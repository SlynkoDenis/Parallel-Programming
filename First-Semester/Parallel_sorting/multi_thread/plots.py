#!/usr/bin/python3

import matplotlib.pyplot as plt


number_of_elements = [int(10000 * pow(2, i)) for i in range(15)]
best_case = {2: [0.00117300000000000000, 0.00238900000000000006,
                 0.00394999999999999952, 0.00785600000000000014,
                 0.01374699999999999880, 0.02115999999999999825,
                 0.03606600000000000084, 0.06066399999999999570,
                 0.11023399999999999865, 0.21448900000000004074,
                 0.43405699999999997063, 0.90941199999999999815,
                 1.97360899999999994670, 3.84518400000000015737,
                 7.91273599999999976973],
             3: [0.00095199999999999994, 0.00207599999999999972,
                 0.00350300000000000004, 0.00676199999999999978,
                 0.01148199999999999915, 0.02042199999999999918,
                 0.03372100000000000097, 0.04702999999999999542,
                 0.08952000000000000235, 0.16490399999999999503,
                 0.32420699999999996743, 0.67493899999999995565,
                 1.41712199999999999278, 2.90790300000000012659,
                 5.88480799999999959482],
             4: [0.00125599999999999996, 0.00247799999999999973,
                 0.00493999999999999995, 0.00788599999999999891,
                 0.01108499999999999937, 0.02122699999999999934,
                 0.03460499999999999687, 0.05486499999999999710,
                 0.10458999999999998853, 0.16976499999999999924,
                 0.32541600000000003856, 0.6384389999999999787,
                 1.27983400000000013819, 2.62483900000000014430,
                 5.46435400000000015552],
             6: [0.00051599999999999997, 0.00100599999999999995,
                 0.00272999999999999979, 0.00350099999999999977,
                 0.00924099999999999921, 0.02174599999999999797,
                 0.04155099999999999766, 0.12941199999999999926,
                 0.15426499999999998547, 0.22432000000000007489,
                 0.41107700000000002571, 0.80971999999999999531,
                 1.65329799999999993432, 3.38138300000000002754,
                 6.61302599999999962677],
             8: [0.00068700000000000000, 0.00113599999999999986,
                 0.00298499999999999981, 0.00581499999999999986,
                 0.01324999999999999963, 0.02316700000000000009,
                 0.03706899999999999779, 0.06215699999999999698,
                 0.12490899999999999226, 0.22760400000000000076,
                 0.44413599999999997525, 0.90880800000000006023,
                 1.75840100000000010283, 3.66822099999999995390,
                 8.27243700000000004025]}
worst_case = {2: [0.00266199999999999987, 0.00551399999999999980,
                  0.01090399999999999876, 0.01799799999999999994,
                  0.02321699999999999806, 0.03467599999999999849,
                  0.06454799999999999427, 0.10624999999999999722,
                  0.21258500000000002395, 0.46156799999999997830,
                  0.95323599999999997223, 1.97954600000000002780,
                  4.03247300000000041820, 8.90046500000000051500,
                  18.31119999999999947704],
              3: [0.00185499999999999988, 0.00327400000000000000,
                  0.00490699999999999990, 0.01053999999999999902,
                  0.01840400000000000022, 0.03234199999999999575,
                  0.05058999999999999608, 0.08151599999999999124,
                  0.16171699999999999964, 0.33728500000000005699,
                  0.69882700000000008700, 1.43622699999999992038,
                  3.01800800000000002399, 6.15311900000000022715,
                  13.92913899999999927104],
              4: [0.00106999999999999999, 0.00183299999999999999,
                  0.00420200000000000001, 0.00803800000000000001,
                  0.02035499999999999809, 0.03624299999999999744,
                  0.04489900000000000141, 0.10210200000000002607,
                  0.17987599999999998035, 0.30037999999999998035,
                  0.61925599999999991763, 1.30818100000000003824,
                  2.61890100000000014546, 5.41487799999999985801,
                  12.20487400000000022260],
              6: [0.00083799999999999999, 0.00181099999999999989,
                  0.00371200000000000002, 0.00712199999999999986,
                  0.01526299999999999879, 0.03179799999999999988,
                  0.08570499999999999841, 0.13115799999999999681,
                  0.17943299999999998140, 0.30845600000000006347,
                  0.68770600000000003948, 1.43492899999999989902,
                  2.90394599999999991624, 5.41482699999999983476,
                  13.84447899999999975762],
              8: [0.00125699999999999987, 0.00167699999999999989,
                  0.00353699999999999978, 0.01318199999999999927,
                  0.02471999999999999892, 0.04096699999999999647,
                  0.09890000000000000180, 0.13156699999999998951,
                  0.17525900000000005363, 0.34520499999999998408,
                  0.69085200000000002163, 1.48923700000000014398,
                  2.92336499999999999133, 5.89214199999999976853,
                  14.40785699999999991405]}

fig = plt.figure()

ax = fig.add_subplot(111)
for k in best_case:
    ax.plot(number_of_elements, best_case[k], label=f"np = {k}", marker='o', markersize=3)
ax.set_title("Best case performance comparison depending on number of processors", fontsize=20)
ax.set_xlabel("number of elements", fontsize=16)
ax.set_ylabel("time elapsed, s", fontsize=16)
ax.legend(fontsize=20)
ax.grid()

fig.set_figheight(20)
fig.set_figwidth(25)
fig.savefig("best_case.png")

fig = plt.figure()

ax = fig.add_subplot(111)
for k in worst_case:
    ax.plot(number_of_elements, worst_case[k], label=f"np = {k}", marker='o', markersize=3)
ax.set_title("Worst case performance comparison depending on number of processors", fontsize=20)
ax.set_xlabel("number of elements", fontsize=16)
ax.set_ylabel("time elapsed, s", fontsize=16)
ax.legend(fontsize=20)
ax.grid()

fig.set_figheight(20)
fig.set_figwidth(25)
fig.savefig("worst_case.png")

fig = plt.figure()

ax = fig.add_subplot(111)
ax.plot(number_of_elements, best_case[4], label=f"best case", marker='o', markersize=3)
ax.plot(number_of_elements, worst_case[4], label=f"worst case", marker='o', markersize=3)
ax.set_title("Best case v.s. Worst case, np = 4", fontsize=20)
ax.set_xlabel("number of elements", fontsize=16)
ax.set_ylabel("time elapsed, s", fontsize=16)
ax.legend(fontsize=20)
ax.grid()

fig.set_figheight(20)
fig.set_figwidth(25)
fig.savefig("best_vs_worst.png")
